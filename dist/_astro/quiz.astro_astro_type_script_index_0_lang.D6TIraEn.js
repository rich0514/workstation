const d=[{id:1,text:"我喜歡把心事說出來，即使只是讓對方知道我的存在。",positive:"E",negative:"I",positiveText:"我需要表達來療癒自己",negativeText:"我喜歡把心事藏在心裡"},{id:2,text:"我很在意別人細微的情緒變化，甚至有點過頭。",positive:"N",negative:"S",positiveText:"我常感受到微妙變化",negativeText:"我比較在意實際表現"},{id:3,text:"我常常在關係中扮演傾聽者的角色。",positive:"F",negative:"T",positiveText:"我願意成為情感支柱",negativeText:"我傾向給出解決方案"},{id:4,text:"若沒有提前安排，我會對突然的邀約感到焦慮。",positive:"J",negative:"P",positiveText:"我需要確定的計畫",negativeText:"我享受即興的邀約"},{id:5,text:"跟朋友一起沉默也不會尷尬，那種安靜是舒服的。",positive:"I",negative:"E",positiveText:"我享受安靜的陪伴",negativeText:"我喜歡熱鬧的交流"},{id:6,text:"我相信第六感，總能感受到氣氛的改變。",positive:"N",negative:"S",positiveText:"我相信直覺感受",negativeText:"我相信具體事實"},{id:7,text:"我會因為他人一句話而思考一整晚。",positive:"F",negative:"T",positiveText:"我容易被話語觸動",negativeText:"我理性分析對話"},{id:8,text:"關係的節奏如果太快，我會想逃開。",positive:"P",negative:"J",positiveText:"我需要自己的節奏",negativeText:"我喜歡穩定發展"},{id:9,text:"跟陌生人交談時，我通常能自然而然開啟話題。",positive:"E",negative:"I",positiveText:"我善於開啟對話",negativeText:"我傾向安靜觀察"},{id:10,text:"我經常觀察朋友的一舉一動，像寫詩一樣記錄心情。",positive:"N",negative:"S",positiveText:"我喜歡解讀意義",negativeText:"我注重實際互動"},{id:11,text:"情緒連結對我來說，比解決問題還重要。",positive:"F",negative:"T",positiveText:"我重視情感交流",negativeText:"我重視解決方案"},{id:12,text:"我喜歡清楚知道接下來一週會發生什麼事。",positive:"J",negative:"P",positiveText:"我喜歡規劃未來",negativeText:"我享受即興生活"},{id:13,text:"一場熱烈的對話能讓我感覺被充電。",positive:"E",negative:"I",positiveText:"我從交談獲得能量",negativeText:"對話會消耗我的精力"},{id:14,text:"我常覺得自己的直覺比邏輯更可靠。",positive:"N",negative:"S",positiveText:"我信任內在直覺",negativeText:"我相信實際經驗"},{id:15,text:"感情裡的距離感，會讓我不安。",positive:"F",negative:"T",positiveText:"我需要情感親密",negativeText:"我重視個人空間"},{id:16,text:"我會計畫情人節要送什麼、去哪裏吃飯。",positive:"J",negative:"P",positiveText:"我喜歡規劃浪漫",negativeText:"我享受即興約會"},{id:17,text:"對我而言，「安靜地陪著」是最深的陪伴方式。",positive:"I",negative:"E",positiveText:"我享受靜默陪伴",negativeText:"我喜歡互動交流"},{id:18,text:"我喜歡幻想別人的故事，再默默為他寫一首詩。",positive:"N",negative:"S",positiveText:"我愛想像創作",negativeText:"我專注當下實際"},{id:19,text:"我會努力讓對方知道他是被理解、被支持的。",positive:"F",negative:"T",positiveText:"我重視情感支持",negativeText:"我提供實際幫助"},{id:20,text:"若計畫被打亂，我會感到失控。",positive:"J",negative:"P",positiveText:"我需要按計劃進行",negativeText:"我能靈活應變"}];let c=0;const T=[],o={E:0,I:0,S:0,N:0,T:0,F:0,J:0,P:0};document.addEventListener("DOMContentLoaded",()=>{const a=document.getElementById("question-text"),l=document.getElementById("question-number"),r=document.getElementById("progress-bar"),n=document.getElementById("options");function x(){if(!n)return;n.innerHTML="";const i=[{text:"同意",score:2},{text:"還好",score:1},{text:"不同意",score:0}];n.style.display="flex",n.style.flexDirection="column",n.style.alignItems="center",n.style.gap="20px",n.style.marginTop="30px",i.forEach(t=>{const e=document.createElement("button");e.className="option-btn",e.setAttribute("data-score",t.score.toString()),e.style.background="#A8B5A2",e.style.border="none",e.style.color="white",e.style.padding="8px 16px",e.style.borderRadius="9999px",e.style.fontSize="1rem",e.style.cursor="pointer",e.style.transition="all 0.3s ease",e.style.width="160px",e.style.textAlign="center",e.style.textDecoration="none",e.textContent=t.text,e.style.fontWeight="bold",T[c]===t.score&&e.classList.add("selected"),e.addEventListener("click",()=>{n.querySelectorAll(".option-btn").forEach(u=>u.classList.remove("selected")),e.classList.add("selected"),g(t.score)}),e.addEventListener("mouseover",()=>{e.style.background="#8A9A85"}),e.addEventListener("mouseout",()=>{e.style.background="#A8B5A2"}),n.appendChild(e)})}if(!a||!l||!r||!n){console.error("找不到必要的元素");return}function v(){if(!a||!l||!r)return;const i=d[c];a.textContent=i.text,l.textContent=`第 ${c+1}/20 題`;const t=(c+1)/d.length*100;r.style.width=`${t}%`,x()}function g(i){if(c<d.length)if(T[c]=i,c++,c===d.length){const t=document.getElementById("question-text"),e=document.getElementById("options");t&&(t.textContent="正在分析你的人格特質..."),e&&(e.innerHTML=`
                  <div style="text-align: center; margin-top: 20px;">
                    <div class="loading-spinner"></div>
                  </div>
                `),setTimeout(()=>{y()},1500)}else v()}v();const s=n.getElementsByClassName("option-btn");Array.from(s).forEach(i=>{i instanceof HTMLElement&&i.dataset.score&&i.addEventListener("click",()=>{const t=parseInt(i.dataset.score||"0");g(t)})})});function y(){Object.keys(o).forEach(s=>{o[s]=0}),console.log("================開始計算================"),T.forEach((s,i)=>{const t=d[i];console.log(`問題 ${i+1}: ${t.text}`),console.log(`回答分數: ${s}`),s===2?(o[t.positive]+=2,console.log(`${t.positive} +2分`)):s===1?(o[t.positive]+=1,o[t.negative]+=1,console.log(`${t.positive} +1分, ${t.negative} +1分`)):(o[t.negative]+=2,console.log(`${t.negative} +2分`))}),console.log("================分數統計================"),Object.entries(o).forEach(([s,i])=>{console.log(`${s}: ${i}分`)});const a=[{score1:o.E,score2:o.I,letter1:"E",letter2:"I"},{score1:o.S,score2:o.N,letter1:"S",letter2:"N"},{score1:o.T,score2:o.F,letter1:"T",letter2:"F"},{score1:o.J,score2:o.P,letter1:"J",letter2:"P"}];console.log("================對比結果================");const l=a.map(({score1:s,score2:i,letter1:t,letter2:e})=>{const p=s>i?t:e;return console.log(`${t}(${s}) vs ${e}(${i}): 選擇 ${p}`),p}).join("");console.log("================最終結果================"),console.log("最終類型:",l),console.log("最終分數:",JSON.stringify(o,null,2)),console.log("================最終結果================"),console.log("你的MBTI類型是:",l),console.log("請稍候...正在導向結果頁面");const r={INFP:"理想情人",INFJ:"靈魂靜謗者",ENFP:"情感探索者",ENFJ:"靈魂照明者",INTP:"安靜拆解者",INTJ:"孤島建築師",ENTP:"情感辨講家",ENTJ:"堅定引導者",ISFP:"沉静的陪伴者",ISTP:"孤獨行者",ESFP:"熱情生活家",ESTP:"感官冒險者",ISFJ:"溫柔守護者",ISTJ:"信任守護者",ESFJ:"溫暖照顧者",ESTJ:"務實規劃師"},n=document.getElementById("quiz-section"),x=document.getElementById("result-section"),v=document.getElementById("result-type"),g=document.getElementById("result-title");n&&x&&v&&g&&(n.style.display="none",x.style.display="block",v.textContent=l,g.textContent=r[l])}
